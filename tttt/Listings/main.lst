C51 COMPILER V9.50a   MAIN                                                                 08/27/2019 16:41:22 PAGE 1   


C51 COMPILER V9.50a, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\obj\main.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE main.c LARGE OBJECTADVANCED BROWSE INCDIR(..\T5L51) DEBUG PRINT(.\Listings\
                    -main.lst) TABS(2) OBJECT(.\obj\main.obj)

line level    source

   1          /******************************************************************************
   2          
   3                            版权所有 (C), 2019, 北京迪文科技有限公司
   4          
   5           ******************************************************************************
   6            文 件 名   : main.c
   7            版 本 号   : V2.0
   8            作    者   : chengjing
   9            生成日期   : 2019年4月30日
  10            功能描述   : 主函数，外设和参数初始化，主循环中主要功能函数入口。
  11            修改历史   :
  12            1.日    期   : 
  13              作    者   : 
  14              修改内容   : 
  15          ******************************************************************************/
  16          
  17          #include "t5los8051.h"
  18          #include "sys.h"
  19          #include "uart.h"
  20          #include "config.h"
  21          #include "control.h"
  22          #include "TP_draw.h"
  23          #include "timer.h"
  24          #include "RTC.h"
  25          #include "vcnl4000.h" 
  26          
  27          
  28          
  29          u8 code test[]="uart send...";
  30          u8 ProxResult[2] = {0};
  31          int main(void)
  32          {   
  33   1        
  34   1          INIT_CPU();
  35   1        PORT_Init();
  36   1        POWER_ON();
  37   1        T0_Init();    
  38   1        T1_Init();  
  39   1          T2_Init();  
  40   1      //     WDT_ON();       //打开开门狗    喂狗在定时器T2中
  41   1          UART2_Init();     
  42   1          UART3_Init();       
  43   1          UART5_Init();       
  44   1      //  UART5_SendStr(test,sizeof(test)); 
  45   1        UART3_SendStr(test,sizeof(test)); 
  46   1        System_Parm_Init();
  47   1        VCNL4200_Init();                  //初始化VCNL4200
  48   1      //    RTC_RunFunction();
  49   1          
  50   1        while(1)
  51   1        {     
  52   2          Time_Update();          //更新时间    
  53   2          M4G6_dataRx();
  54   2          uart2com();
C51 COMPILER V9.50a   MAIN                                                                 08/27/2019 16:41:22 PAGE 2   

  55   2      //    P8563_Readtime();   
  56   2          Parm_Set_Function();      //设置函数入口
  57   2          Control_Function();       //数据采集和逻辑控制函数入口
  58   2          VCNL4200_MeasurementResult(ProxResult);
  59   2      //    if(screen_count>500)
  60   2      //    {
  61   2      //      screen_count = 0;
  62   2      //      UART5_SendStr(test,sizeof(test));
  63   2      //      
  64   2      //    }
  65   2          
  66   2      //    Time_Update();
  67   2      //    TP_drawin();
  68   2        }
  69   1      }
  70          
  71          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     70    ----
   CONSTANT SIZE    =     13    ----
   XDATA SIZE       =      2    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
